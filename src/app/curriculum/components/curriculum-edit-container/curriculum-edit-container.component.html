<div class="container" *ngIf="(neededData | async) && canEdit()">
  <div class="row" style="height: 100vh">
    <div class="col-xl-9">
      <app-year-dropdown
        [buttonTxt]="buttonTxt"
        [subject]="subjects"
        [type]="type"
        [title]="title"
        [curriculum]="curriculum"
        [author]="author"
        [role]="role"
        [department]="departmentId"
        [electiveIncluded]="!!electiveSubjects.length"
        [electiveData]="electiveSubjects"
        [descriptiveTitle]="descriptiveTitle"
        [user]="user"
        [action]="action"
        [status]="status"
        (submitCur)="submit($event)"
      ></app-year-dropdown>
    </div>
    <div class="col-xl-3">
      <app-comments [comments]="comments"></app-comments>
    </div>
  </div>
</div>
<div class="d-flex justify-content-center" *ngIf="isLoading">
  <app-spinner class="mx-auto"></app-spinner>
</div>
<app-reload-page *ngIf="errorMessage"></app-reload-page>

<app-not-allowed
  *ngIf="!canEdit() && !isLoading && !errorMessage"
></app-not-allowed>
